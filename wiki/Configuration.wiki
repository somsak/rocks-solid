configuration file
= Design =
 * Work from cron
 * A script, called "cluster-powersave" is run every 5 minutes.
  * get_require_host()
   # Sum-up number of needed cpu
   # Sum-up number of free nodes
   # If #1 + #2 is < min_spare, round up to min_spare
   # return #3
  * wakeup_host() with returned value of get_require_host
= Configuration =
/etc/rocks-solid.conf
{{{
[db]
uri=sqlite
powersave=/var/spool/rocks/powersave_control.db

[ipmi]
host_pattern=s/compute/compute-ilo/
#host_pattern=/tmp/gen_host %s
user=admin
passwd=TgridiLOAdmin

[ssh]
shutdown_cmd=/sbin/poweroff
reboot_cmd=/sbin/reboot
arg=-f

[power]
min_spare=5
ignore_host=compute-ilo-4-1.*

[temp]
thereshold=35
ipmi_attr=.*Amb.*Temp.*
ipmi_attr1=.*Temp.*2.*

[env]
sensor=temp
criteria=any
action=shutdown

[main]
poweron_driver=ipmi
poweroff_driver=sw
powerreset_driver=sw
powerstatus_driver=ipmi
scheduler=sge
default_queue=long.q
}}}